The MIT License (MIT)

Copyright (c) 2019 Samarjeet

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

use commerce;
show global variables like '%profiling%';
show variables like '%profiling%';
set profiling=1; 
# set profiling_history_size=30;

#explain
select
	orderentit0_.ord_id as ord_id1_10_,
	orderentit0_.created_at as created_2_10_,
	orderentit0_.created_by as created_3_10_,
	orderentit0_.updated_at as updated_4_10_,
	orderentit0_.updated_by as updated_5_10_,
	orderentit0_.buyr_birth_dt as buyr_bir6_10_,
	orderentit0_.buyr_cnnt_info as buyr_cnn7_10_,
	orderentit0_.user_created_at as user_cre8_10_,
	orderentit0_.buyr_email as buyr_ema9_10_,
	orderentit0_.buyr_mbr_card_num as buyr_mb10_10_,
	orderentit0_.buyr_nm as buyr_nm11_10_,
	orderentit0_.buyr_rcvr_eq_yn as buyr_rc12_10_,
	orderentit0_.buyr_svc_mgmt_num as buyr_sv13_10_,
	orderentit0_.buyr_svc_num as buyr_sv14_10_,
	orderentit0_.buyr_svc_term_dt as buyr_sv15_10_,
	orderentit0_.buyr_svc_term_yn as buyr_sv16_10_,
	orderentit0_.buyr_tid as buyr_ti17_10_,
	orderentit0_.user_updated_at as user_up18_10_,
	orderentit0_.cncl_psbl_dt as cncl_ps19_10_,
	orderentit0_.mbr_card_id as mbr_car20_10_,
	orderentit0_.cnsm_msg as cnsm_ms21_10_,
	orderentit0_.coupon_dn_cnt as coupon_22_10_,
	orderentit0_.coupon_dn_stt as coupon_23_10_,
	orderentit0_.coupon_expr_dtm as coupon_24_10_,
	orderentit0_.coupon_use_cd as coupon_25_10_,
	orderentit0_.dlv_bas_addr as dlv_bas26_10_,
	orderentit0_.dlv_price as dlv_pri27_10_,
	orderentit0_.dlv_dtl_addr as dlv_dtl28_10_,
	orderentit0_.dlv_zip as dlv_zip29_10_,
	orderentit0_.ord_err_cd as ord_err30_10_,
	orderentit0_.gift_msg as gift_ms31_10_,
	orderentit0_.gift_yn as gift_yn32_10_,
	orderentit0_.buyr_mbr_gr_cd as buyr_mb33_10_,
	orderentit0_.ord_fix_dt as ord_fix34_10_,
	orderentit0_.ord_fix_path as ord_fix35_10_,
	orderentit0_.ord_cncl_path as ord_cnc36_10_,
	orderentit0_.ord_cncl_dtm as ord_cnc37_10_,
	orderentit0_.ord_st_cd as ord_st_38_10_,
	orderentit0_.ord_path as ord_pat39_10_,
	orderentit0_.ord_dtl_st_cd as ord_dtl40_10_,
	orderentit0_.ord_dtm as ord_dtm41_10_,
	orderentit0_.pay_method as pay_met42_10_,
	orderentit0_.prod_pay_tot_amt as prod_pa43_10_,
	orderentit0_.prod_id as prod_id51_10_,
	orderentit0_.prod_buy_tot_amt as prod_bu44_10_,
	orderentit0_.rcvr_cnnt_info as rcvr_cn45_10_,
	orderentit0_.rcvr_dup_scrb_info as rcvr_du46_10_,
	orderentit0_.rcvr_email as rcvr_em47_10_,
	orderentit0_.rcvr_nm as rcvr_nm48_10_,
	orderentit0_.rcvr_svc_mgmt_num as rcvr_sv49_10_,
	orderentit0_.rcvr_svc_num as rcvr_sv50_10_
from
	ord orderentit0_
where
	orderentit0_.ord_dtm>'2020-05-10 11:00:00.646'
	and orderentit0_.buyr_mbr_card_num = '2493117763020512'
	and (orderentit0_.ord_dtl_st_cd in ('READY' , 'SENDING' , 'SENDED' , 'OK' , 'COMPLETE'))
order by
	orderentit0_.ord_dtm desc,
	orderentit0_.ord_id desc
limit 2,2
;
show profiles; 
# show profile;
show profile for query 5; 
select query_id, duration, state from information_schema.profiling where query_id =5 order by query_id,seq;
# select * from information_schema.profiling order by query_id,seq;
set profiling=0;

