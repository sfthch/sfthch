---
layout: post
title: "[VI/VIM] VI 편집기 사용방법"
excerpt: "터미널에서 가장 많이 사용하는 vi/vim 편집기의 모든것"
categories:
  - VI
tags:
  - vi
  - vim
  - edit
last_modified_at: 2023-10-20
---

<!--

### 1. vi/vim 편집기의 세가지 모드
* #### 세가지 기본 모드

  | 모드      | 설명                                                                                                                 |
  | :---      | :---                                                                                                                 |
  | 명령 모드 | vi를 실행하면 가장 먼저 접하는 기본 모드로 커서의 이동, 수정, 삭제, 복사/붙여넣기, 탐색 등의 역할을 수행합니다.      |
  |           | - 입력 모드에서 [ESC] 키를 누르면 명령 모드로 전환                                                                   |
  | 입력 모드 | 입력 모드 이외에도 편집 모드, input mode, insert mode 등으로 불리며 글자를 입력하는 문서 편집기의 역할을 수행합니다. |
  |           | - 명령 모드에서 i, a, o, c 키를 누르면 입력모드로 전환                                                               |
  |           | - insert, add, open a line, change                                                                                   |
  |           | - 하단에 '--INSERT--'라고 표시됨                                                                                     |
  |           | . i : 현재 커서 앞에 입력                                                                                            |
  | 라인 모드 | 명령 모드에서 ':'키를 입력했을 때 화면 맨 아랫줄에서 명령을 수행하는 모드로                                          |
  |           | 저장, 종료, 탐색, 치환 및 vi 환경 설정 등의 역할을 수행합니다.                                                       |
  |           | - 명령 모드에서 [:]키를 누르면 라인 모드로 전환                                                                      |

### 2. 라인 모드
* #### vi/vim 파일 저장 및 종료하기 및 커서 이동

  | 명령어       | 설명                                                                        |
  | :---         | :---                                                                        |
  | :q           | 종료 - vi에서 작업한 내용이 없을 때 vi를 종료합니다.                        |
  | :q!          | 저장하지 않고 강제 종료 - 작업한 내용을 저장하지 않고 종료합니다.           |
  | :w [파일명]  | 저장 - 작업한 내용을 저장만 합니다. 파일명을 지정하면 새 파일로 저장합니다. |
  | :wq / :wq!   | 저장 후 종료 / 작업한 내용을 저장하고  vi를 종료합니다.                     |
  | :x / :x!     | 저장 후 종료 / 작업한 내용을 종료하고 vi를 종료합니다.                      |
  | :x [파일명]  | 다른 이름으로 저장                                                          |
  |              | - 현재 파일의 내용은 저장되지 않고, 다른 이름으로 새파일에 저장됩니다.      |
  | :x! [파일명] | 다른 이름으로 저장                                                          |
  |              | - 현재 파일의 내용은 저장되지 않고, 다른 이름으로 새파일에 저장됩니다.      |
  |              | - 같은 이름의 파일이 있으면 덮어씀                                          |
  | :행번호      | 지정한 행 번호로 커서를 이동합니다.                                         |
  | :$           | 파일의 마지막 행으로 커서를 이동합니다.                                     |

### 3. 입력 모드
* #### 단순 텍스트 편집 모드
  - ##### 초기 명령 모드에서 입력 모드로 이동 후 입력이 가능한데, 명령 모드에서 아래 키로 입력 모드로 전환이 가능합니다.
    + ##### 입력 모드에서 [ESC] 를 누르면 명령 모드로 전환

      | 명령어 | 설명                                     |
      | :---   | :---                                     |
      | a      | 현재 커서 뒤에 텍스트 입력               |
      |        | - 현재 커서 위치 오른쪽                  |
      | A      | 커서가 위치한 행의 끝에 텍스트 입력      |
      | i      | 커서의 위치부터 텍스트 입력              |
      | I      | 커서가 위치한 행의 처음에 텍스트 입력    |
      | o      | 커서가 위치한 행의 다음 행에 텍스트 입력 |
      | O      | 커서가 위치한 행의 이전 행에 텍스트 입력 |

### 4. 명령 모드
* #### 커서 이동, 수정, 삭제, 복사/붙여넣기, 탐색
  - ##### 커서 및 화면 이동

    | 명령어                  | 설명                                                                              |
    | :---                    | :---                                                                              |
    | k                       | 커서를 위로 이동                                                                  |
    | j                       | 커서를 아래로 이동                                                                |
    | h                       | 커서를 왼쪽으로 이동                                                              |
    | l                       | 커서를 오른쪽으로 이동                                                            |
    | w                       | 커서를 다음 단어의 첫 글자로 이동                                                 |
    |                         | - 단어의 구분 : 빈칸, 탭, 구두점(마침표, 쉼표, 하이픈, 슬래시, 콜론, 물음표, .. ) |
    | W                       | 커서를 다음 단어의 첫 글자로 이동                                                 |
    |                         | - 단어의 구분 : 빈칸, 탭                                                          |
    | b                       | 커서를 앞 단어의 첫 글자로 이동                                                   |
    |                         | - 단어의 구분 : 빈칸, 탭, 구두점(마침표, 쉼표, 하이픈, 슬래시, 콜론, 물음표, .. ) |
    | B                       | 커서를 앞 단어의 첫 글자로 이동                                                   |
    |                         | - 단어의 구분 : 빈칸, 탭                                                          |
    | 0                       | 커서를 현재 라인의 첫 칸으로 이동                                                 |
    | $                       | 커서를 현재 라인의 마지막 칸으로 이동                                             |
    | -                       | 커서를 이전 행의 첫 칸으로 이동                                                   |
    | + / Enter 키            | 커서를 다음 행의 첫 칸으로 이동                                                   |
    | H                       | 커서를 화면에서 첫 라인으로 이동                                                  |
    | M                       | 커서를 화면에서 중간 라인으로 이동                                                |
    | L                       | 커서를 화면에서 마지막 라인으로 이동                                              |
    | Ctrl + u                | 커서를 한 페이지 위로 이동                                                        |
    | Ctrl + d                | 커서를 한 페이지 아래로 이동                                                      |
    | Page Up 키 / Ctrl + f   | 커서를 한 페이지 위로 이동                                                        |
    | Page down 키 / Ctrl + b | 커서를 한 페이지 아래로 이동                                                      |
    | Ctrl + y                | 화면을 한 행 위로 이동                                                            |
    | Ctrl + e                | 화면을 한 행 아래로 이동                                                          |
    | gg                      | 첫 라인으로 이동                                                                  |
    | G                       | 마지막 라인으로 이동                                                              |
    | 행번호G                 | 지정한 행 번호로 커서를 이동                                                      |

### 5. 텍스트 삭제 명령
* #### 명령 모드에서 텍스트를 삭제하거나 변경

    | 명령어 | 설명                                      |
    | :---   | :---                                      |
    | x      | 커서 위치의 한 문자를 삭제                |
    | 번호x  | 커서의 위치부터 해당 숫자만큼 문자를 삭제 |
    | dw     | 커서의 위치부터 다음 단어 전까지 삭제     |
    | 번호dw | 커서의 위치부터 해당 숫자만큼 단어 삭제   |
    | d$ / D | 커서의 위치부터 현재 라인의 끝까지 삭제   |
    | d0     | 커서의 왼쪽부터 현재 라인의 처음까지 삭제 |
    | d^     | 커서의 왼쪽부터 현재 라인의 처음까지 삭제 |
    |        | - 라인 앞의 빈칸은 삭제하지 않음          |
    | dd     | 현재 라인 삭제                            |
    | 번호dd | 현재 라인부터 해당 숫자만큼의 라인을 삭제 |
    | dG     | 현재 라인부터 파일의 끝까지 삭제          |
    | d번호G | 현재 라인부터 해당 라인번호 까지 삭제     |
    | dH     | 현재 라인부터 화면의 앞까지 삭제          |
    | dL     | 현재 라인부터 화면의 끝까지 삭제          |

### 6. 텍스트 변경(또는 치환) 명령
* #### 텍스트를 삭제 후 변경하고 입력 모드로 전환됨

    | 명령어 | 설명                                         |
    | :---   | :---                                         |
    | r      | 커서 위치의 한 문자가 대치                   |
    |        | - 입력 모드로 전환                           |
    | R      | 커서의 위치부터 계속 대치                    |
    |        | - 입력 모드인데 대치 모드로 내용이 계속 바뀜 |
    | s / d  | 커서 위치의 문자가 삭제                      |
    |        | - 입력 모드로 전환                           |
    | S / cc | 현재 라인에 존재하는 문자 삭제               |
    |        | - 현재 라인에서 입력 모드로 전환             |
    | c$ / C | 커서 위치부터 라인의 끝까지 삭제             |
    |        | - 입력 모드로 전환                           |
    | c0     | 커서 왼쪽부터 라인의 앞까지 삭제             |
    |        | - 입력 모드로 전환                           |
    | cw     | 커서 위치부터 단어의 끝까지 삭제             |
    |        | - 입력 모드로 전환                           |
    | cb     | 커서 왼쪽부터 단어의 앞까지 삭제             |
    |        | - 입력 모드로 전환                           |
    | c)     | 커서 위치부터 문자의 끝까지 삭제             |
    |        | - 입력 모드로 전환                           |
    | c}     | 커서 위치부터 문단의 끝까지 삭제             |
    |        | - 입력 모드로 전환                           |
    | cG     | 현재 라인부터 파일의 끝까지 삭제             |
    |        | - 입력 모드로 전환                           |
    | cH     | 현재 라인부터 화면의 앞까지 삭제             |
    |        | - 입력 모드로 전환                           |
    | cL     | 현재 라인부터 화면의 끝까지 삭제             |
    |        | - 입력 모드로 전환                           |

### 7. 텍스트 복사/붙여넣기
* #### 복사한 내용은 P 또는 p 명령을 이용하여 붙여넣을 수 있음

    | 명령어 | 설명                                    |
    | :---   | :---                                    |
    | yy     | 현재 라인을 복사                        |
    | 번호yy | 현재 라인부터 해당 숫자만큼 라인을 복사 |
    | yw     | 커서의 위치부터 다음 단어의 앞까지 복사 |
    | y$     | 커서의 위치부터 라인의 끝까지 복사      |
    | y0     | 커서 왼쪽부터 단어 앞까지 복사          |
    | y^     | 커서 왼쪽부터 단어 앞까지 복사          |
    |        | - 앞의 빈칸은 복사하지 않음             |
    | yG     | 현재 라인부터 파일의 끝까지 복사        |
    | y번호G | 현재 라인부터 라인 번호까지 복사        |
    | y)     | 커서의 위치부터 한 문장을 복사          |
    | y}     | 커서의 위치부터 한 문단을 복사          |
    | P      | 단어 복사 : 커서의 왼편에 붙여넣기      |
    |        | 라인 복사 : 커서의 위 라인에 붙여넣기   |
    | p      | 단어 복사 : 커서의 오른편에 붙여넣기    |
    |        | 라인 복사 : 커서의 아래 라인에 붙여넣기 |
    | v      | 비주얼 모드에서 한 번에 한 문자씩 선택  |
    | V      | 비주얼 모드에서 한 번에 한 라인씩 선택  |

-->

### 8. 검색 명령
* #### 한 라인에서 검색할 때 명령 모드에서 f를 사용
  - #### 세미콜론(;)을 사용하여 검색을 반복
    + #### 정규식을 사용할 수 있음

      | 명령어        | 설명                                                  |
      | :---:         | :---                                                  |
      | f패턴         | 현재 라인에서만 패턴 검색                             |
      | /pattern      | 순방향으로 패턴을 검색하여 커서를 이동                |
      | /pattern/+num | 패턴을 검색하고 그 뒤(+) n번쨰 라인으로 이동          |
      | ?pattern      | 역방향으로 패턴을 검색하여 커서를 이동                |
      | ?pattern?-num | 패턴을 검색하고, 그 앞(-) num번째 라인으로 이동       |
      | n             | 이전 검색을 같은 방향으로 반복                        |
      | N             | 이전 검색을 반대 방향으로 반복                        |
      | /[Enter]      | 이전 검색을 순방향으로 반복                           |
      | ?[Enter]      | 이전 검색을 역방향으로 반복                           |
      | 정규식 예시   | 점(.) : 임의의 한 문자와 매칭                         |
      |               | 애스터리스크(*) : 앞의 문자가 0개 이상 나타날 수 있음 |
      |               | [] : 안에 포함하는 문자 중 하나와 매칭                |
      |               |                                                       |
      |               | ex) 중간글자를 생략하고 찾기                          |
      |               | /문자열.*문자열                                       |
      |               | ex) print와 Print를 역방향으로 검색                   |
      |               | ?[pP]rint                                             |

```
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------

                           MOVING

  e  ^E  j  ^N  CR  *  Forward  one line   (or N lines).
  y  ^Y  k  ^K  ^P  *  Backward one line   (or N lines).
  f  ^F  ^V  SPACE  *  Forward  one window (or N lines).
  b  ^B  ESC-v      *  Backward one window (or N lines).
  z                 *  Forward  one window (and set window to N).
  w                 *  Backward one window (and set window to N).
  ESC-SPACE         *  Forward  one window, but don't stop at end-of-file.
  d  ^D             *  Forward  one half-window (and set half-window to N).
  u  ^U             *  Backward one half-window (and set half-window to N).
  ESC-)  RightArrow *  Left  one half screen width (or N positions).
  ESC-(  LeftArrow  *  Right one half screen width (or N positions).
  F                    Forward forever; like "tail -f".
  r  ^R  ^L            Repaint screen.
  R                    Repaint screen, discarding buffered input.
        ---------------------------------------------------
        Default "window" is the screen height.
        Default "half-window" is half of the screen height.
 ---------------------------------------------------------------------------

                          SEARCHING

  /pattern          *  Search forward for (N-th) matching line.
  ?pattern          *  Search backward for (N-th) matching line.
  n                 *  Repeat previous search (for N-th occurrence).
  N                 *  Repeat previous search in reverse direction.
  ESC-n             *  Repeat previous search, spanning files.
  ESC-N             *  Repeat previous search, reverse dir. & spanning files.
  ESC-u                Undo (toggle) search highlighting.
  &pattern          *  Display only matching lines
        ---------------------------------------------------
        A search pattern may be preceded by one or more of:
        ^N or !  Search for NON-matching lines.
        ^E or *  Search multiple files (pass thru END OF FILE).
        ^F or @  Start search at FIRST file (for /) or last file (for ?).
        ^K       Highlight matches, but don't move (KEEP position).
        ^R       Don't use REGULAR EXPRESSIONS.
 ---------------------------------------------------------------------------

                           JUMPING

  g  <  ESC-<       *  Go to first line in file (or line N).
  G  >  ESC->       *  Go to last  line in file (or line N).
```